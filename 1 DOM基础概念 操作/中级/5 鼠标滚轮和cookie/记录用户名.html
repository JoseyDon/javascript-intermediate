<!DOCTYPE html>
<html>
<head>
	<title>记录用户名</title>
	<script type="text/javascript" src="cookie.js"></script>
</head>

<body>
用户名：<input type="text" id="usename">
<button id="login">登录</button>
<button id="del">注销</button>
<script type="text/javascript">
/*	var oUsername = document.getElementById('username');
	var oLogin = document.getElementById('login');
	var oDel = document.getElementById('del');

	if (getCookie('usename')) {
		oUsername.value = getCookie('username');
	}

	oLogin.onclick = function(){
		alert('登录成功');
		setCookie('username', oUsername.value, 5);
	}

	oDel.onclick =function(){
		removeCookie('username');
		oUsername.value = '';
	}*/
	var oUsername = document.getElementById('username');
var oLogin = document.getElementById('login');
var oDel = document.getElementById('del');

if(getCookie('username')){
    oUsername.value = getCookie('username');
}

oLogin.onclick = function(){
    alert('登陆网站成功');
    setCookie('username', oUsername.value, 5);
}

oDel.onclick = function(){
    removeCookie('username');
    oUsername.value = '';
}

function getCookie(key){
	var arr1 = document.cookie.split('; ');
	for (var i = 0; i < arr1.length; i++) {
		var arr2 = arr1[i].split('=');
		if (arr2[0]==key) {
			return decodeURI(arr2[1]);
		}
	}
}

function setCookie(key, value, t){
    var oDate = new Date();
    oDate.setDate( oDate.getDate() + t );
    document.cookie = key + '=' + value + ';expires=' + oDate.toGMTString();
}

function removeCookie(key){
    setCookie(key, '', -1);
}
</script>
</body>
</html>  